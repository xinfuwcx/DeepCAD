# FPN单元类型和参数转换深度分析报告

## 分析时间
2025-08-26 08:31:59

## 分析目标
1. 深入分析FPN文件中实体元、壳元和truss的具体单元类型
2. 验证摩尔-库伦到修正摩尔-库伦的参数自动转换是否正确实现

---

## 1. FPN单元类型分析结果

### 总体统计

- **总单元数**: 140,194
- **单元类型种类**: 11

### 详细分类

#### 🔧 Truss单元（桁架/锚杆）
- **类型数量**: 0

#### 🏗️ Shell单元（壳体/地连墙）
- **类型数量**: 11
  - `tetra` (材料12): 25,614个
  - `tetra` (材料8): 13,864个
  - `tetra` (材料6): 13,025个
  - `tetra` (材料3): 11,323个
  - `tetra` (材料5): 11,288个
  - `tetra` (材料11): 11,185个
  - `tetra` (材料9): 11,149个
  - `tetra` (材料10): 11,026个
  - `tetra` (材料2): 11,002个
  - `tetra` (材料7): 10,997个
  - `tetra` (材料4): 9,721个

#### 🧱 Solid单元（实体/土体）
- **类型数量**: 0

---

## 2. 材料参数转换分析结果

### 摩尔-库伦材料识别

- **总材料数**: 14
- **摩尔-库伦材料数**: 0

### 参数转换验证
- **成功转换**: 0/0

---

## 3. 当前实现检查结果

### kratos_interface.py方法状态

---

## 4. 关键发现和建议

### 单元类型发现
1. **FPN单元映射**: 需要建立FPN单元类型到Kratos单元类型的准确映射表
2. **材料ID关联**: 不同单元类型使用不同的材料ID，需要正确识别
3. **几何分类**: 通过节点数和单元类型名称可以准确分类

### 参数转换发现  
1. **转换实现状态**: 需要验证摩尔-库伦参数转换是否完整实现
2. **单位转换**: 注意角度单位（度/弧度）和应力单位的转换
3. **本构模型**: 确保正确映射到Kratos的修正摩尔-库伦模型

### 下一步建议
1. **完善单元映射**: 建立完整的FPN到Kratos单元类型映射表
2. **验证参数转换**: 深入测试每个参数的转换正确性
3. **单位一致性**: 确保所有参数的单位转换正确
4. **集成测试**: 在实际FPN数据上验证整个转换流程

---

*分析基于文件: data/两阶段-全锚杆-摩尔库伦.fpn*
