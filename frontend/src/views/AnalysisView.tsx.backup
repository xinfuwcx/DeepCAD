import React, { useState } from 'react';
import { 
  Button, 
  Typography, 
  Select, 
  InputNumber, 
  Switch, 
  Progress, 
  Tag,
  Badge,
  Space
} from 'antd';
import { 
  RocketOutlined, 
  BarChartOutlined, 
  CheckCircleOutlined,
  LoadingOutlined,
  ExclamationCircleOutlined,
  InfoCircleOutlined,
  BulbOutlined as BrainOutlined,
  ExperimentOutlined,
  CalculatorOutlined,
  StopOutlined,
  HistoryOutlined,
  ThunderboltOutlined,
  PlayCircleOutlined,
  SaveOutlined,
  UploadOutlined,
  CloseOutlined,
  MenuOutlined,
  BorderOutlined,
  ColumnHeightOutlined,
  AimOutlined,
  FullscreenOutlined,
  SettingOutlined
} from '@ant-design/icons';
import SimpleViewport3D from '../components/SimpleViewport3D';
import { useSceneStore } from '../stores/useSceneStore';
import { useUIStore } from '../stores/useUIStore';
import { useShallow } from 'zustand/react/shallow';

const { Title, Text } = Typography;
const { Option } = Select;

const AnalysisView: React.FC = () => {
    const [leftPanelVisible, setLeftPanelVisible] = useState(true);
    const [rightPanelVisible, setRightPanelVisible] = useState(true);
    const [isAnalyzing, setIsAnalyzing] = useState(false);
    const [currentStep, setCurrentStep] = useState(0);
    const [analysisType, setAnalysisType] = useState('geostatic');
    const [constitutiveModel, setConstitutiveModel] = useState('mohr_coulomb');
    const [boundaryConditionsSet, setBoundaryConditionsSet] = useState(false);
    const [loadsApplied, setLoadsApplied] = useState(false);
    const [materialsAssigned, setMaterialsAssigned] = useState(false);
    const [solverConfigured, setSolverConfigured] = useState(false);
    const [modalVisible, setModalVisible] = useState(false);
    const [modalType, setModalType] = useState<'boundary' | 'loads' | 'materials' | 'solver' | 'convergence' | 'mesh' | null>(null);
    const [form] = Form.useForm();
    const [analysisProgress, setAnalysisProgress] = useState(0);

    // è°ƒè¯•ä¿¡æ¯
    React.useEffect(() => {
        console.log('AnalysisView ç»„ä»¶å·²åŠ è½½');
        console.log('å·¦ä¾§é¢æ¿å¯è§:', leftPanelVisible);
        console.log('å³ä¾§é¢æ¿å¯è§:', rightPanelVisible);
    }, [leftPanelVisible, rightPanelVisible]);

    // ä»¿çœŸåˆ†æå·¥ä½œæµç¨‹æ­¥éª¤
    const analysisSteps = [
        {
            title: 'å‰å¤„ç†',
            description: 'è½½è·ã€è¾¹ç•Œæ¡ä»¶å’Œææ–™è®¾ç½®',
            icon: <SettingOutlined />,
            key: 'preprocessing'
        },
        {
            title: 'æ±‚è§£è®¾ç½®', 
            description: 'é€‰æ‹©æ±‚è§£å™¨å’Œè®¡ç®—å‚æ•°',
            icon: <CalculatorOutlined />,
            key: 'solver'
        },
        {
            title: 'è®¡ç®—æ‰§è¡Œ',
            description: 'è¿è¡Œæœ‰é™å…ƒåˆ†æè®¡ç®—',
            icon: <RocketOutlined />,
            key: 'execution'
        }
    ];

    const handleStepChange = (step: number) => {
        setCurrentStep(step);
    };

    const handleStartAnalysis = async () => {
        setIsAnalyzing(true);
        setTimeout(() => {
            setIsAnalyzing(false);
            console.log('ä»¿çœŸåˆ†æå®Œæˆ');
        }, 5000);
    };

    const handleSave = () => {
        console.log('åˆ†æä¿å­˜');
    };

    const handleExport = () => {
        console.log('åˆ†æå¯¼å‡º');
    };

    return (
        <div style={{ 
            position: 'relative', 
            width: '100%', 
            height: '100%', 
            background: '#1a1a2e',
            overflow: 'hidden'
        }}>

            {/* å…¨å±3Dè§†å£ - ä½œä¸ºä¸»è¦å†…å®¹ */}
            <div style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}>
                <SimpleViewport3D 
                    title="æ™ºèƒ½ä»¿çœŸåˆ†æ - 3Dè§†å£"
                    description="é«˜çº§æœ‰é™å…ƒåˆ†æä¸ç‰©ç†AIä¼˜åŒ–"
                    mode="analysis"
                    onAction={(action) => console.log('åˆ†æè§†å£æ“ä½œ:', action)}
                />
            </div>

            {/* æ‚¬æµ®æ§åˆ¶æŒ‰é’® - å·¦ä¸Šè§’ */}
            <div style={{ 
                position: 'absolute', 
                top: '60px', 
                left: '20px', 
                zIndex: 9000,
                display: 'flex',
                gap: '10px'
            }}>
                <Button
                    type={leftPanelVisible ? "primary" : "default"}
                    icon={<MenuOutlined />}
                    onClick={() => {
                        console.log('åˆ‡æ¢å·¦ä¾§é¢æ¿ï¼Œå½“å‰çŠ¶æ€:', leftPanelVisible);
                        setLeftPanelVisible(!leftPanelVisible);
                    }}
                    style={{
                        background: leftPanelVisible ? 'rgba(0, 217, 255, 0.8)' : 'rgba(26, 26, 46, 0.8)',
                        borderColor: 'rgba(0, 217, 255, 0.6)',
                        color: '#ffffff',
                        fontWeight: 'normal',
                        fontSize: '14px',
                        padding: '6px 12px',
                        height: '36px',
                        backdropFilter: 'blur(5px)'
                    }}
                >
                    åˆ†æé¢æ¿
                </Button>
                <Button
                    type={rightPanelVisible ? "primary" : "default"}
                    icon={<InfoCircleOutlined />}
                    onClick={() => setRightPanelVisible(!rightPanelVisible)}
                    style={{
                        background: rightPanelVisible ? 'rgba(0, 217, 255, 0.8)' : 'rgba(26, 26, 46, 0.8)',
                        borderColor: 'rgba(0, 217, 255, 0.6)',
                        color: '#ffffff',
                        fontWeight: 'normal',
                        fontSize: '14px',
                        padding: '6px 12px',
                        height: '36px',
                        backdropFilter: 'blur(5px)'
                    }}
                >
                    ç›‘æ§é¢æ¿
                </Button>
            </div>

            {/* 3Dè§†å£å·¥å…·æ  - å³ä¸‹è§’æ¨ªå‘å¸ƒå±€ */}
            <div style={{ 
                position: 'absolute', 
                bottom: '20px', 
                right: '20px', 
                zIndex: 9000,
                display: 'flex',
                gap: '6px'
            }}>
                <Button 
                    size="small" 
                    icon={<BorderOutlined />}
                    style={{
                        background: 'rgba(26, 26, 46, 0.8)',
                        borderColor: 'rgba(0, 217, 255, 0.4)',
                        color: '#ffffff',
                        fontSize: '11px',
                        height: '32px',
                        backdropFilter: 'blur(5px)'
                    }}
                >
                    åº”åŠ›äº‘å›¾
                </Button>
                <Button 
                    size="small" 
                    icon={<ColumnHeightOutlined />}
                    style={{
                        background: 'rgba(26, 26, 46, 0.8)',
                        borderColor: 'rgba(0, 217, 255, 0.4)',
                        color: '#ffffff',
                        fontSize: '11px',
                        height: '32px',
                        backdropFilter: 'blur(5px)'
                    }}
                >
                    ä½ç§»äº‘å›¾
                </Button>
                <Button 
                    size="small" 
                    icon={<AimOutlined />}
                    style={{
                        background: 'rgba(26, 26, 46, 0.8)',
                        borderColor: 'rgba(0, 217, 255, 0.4)',
                        color: '#ffffff',
                        fontSize: '11px',
                        height: '32px',
                        backdropFilter: 'blur(5px)'
                    }}
                >
                    å˜å½¢åŠ¨ç”»
                </Button>
                <Button 
                    size="small" 
                    icon={<FullscreenOutlined />}
                    style={{
                        background: 'rgba(26, 26, 46, 0.8)',
                        borderColor: 'rgba(0, 217, 255, 0.4)',
                        color: '#ffffff',
                        fontSize: '11px',
                        height: '32px',
                        backdropFilter: 'blur(5px)'
                    }}
                >
                    å…¨å±
                </Button>
            </div>

            {/* æ‚¬æµ®å·¦ä¾§åˆ†æé¢æ¿ */}
            {leftPanelVisible && (
                <div style={{
                    position: 'absolute',
                    top: '110px',
                    left: '20px',
                    bottom: '80px',
                    width: '350px',
                    zIndex: 8000,
                    background: 'rgba(26, 26, 46, 0.75)',
                    border: '1px solid rgba(0, 217, 255, 0.4)',
                    borderRadius: '12px',
                    padding: '20px',
                    color: '#ffffff',
                    backdropFilter: 'blur(10px)',
                    boxShadow: '0 0 20px rgba(0, 217, 255, 0.2)',
                    overflowY: 'auto',
                    maxHeight: 'calc(100vh - 150px)'
                }}>
                    {/* é¢æ¿æ ‡é¢˜ */}
                    <div style={{ 
                        borderBottom: '1px solid rgba(0, 217, 255, 0.3)', 
                        paddingBottom: '12px', 
                        marginBottom: '18px',
                        textAlign: 'center'
                    }}>
                        <h2 style={{ 
                            color: '#00d9ff', 
                            margin: 0, 
                            fontSize: '18px', 
                            fontWeight: 'normal',
                            lineHeight: '1.2'
                        }}>
                            ä»¿çœŸåˆ†æå·¥ä½œæµ
                        </h2>
                        <p style={{ 
                            color: 'rgba(255, 255, 255, 0.7)', 
                            fontSize: '12px', 
                            margin: '6px 0 0 0',
                            lineHeight: '1.3'
                        }}>
                            é«˜çº§æœ‰é™å…ƒåˆ†æä¸è®¡ç®—
                        </p>
                    </div>
                    
                    {/* å·¥ä½œæµç¨‹æ­¥éª¤ */}
                    <div style={{ marginBottom: '20px' }}>
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                            {analysisSteps.map((step, index) => (
                                <Button 
                                    key={step.key}
                                    type={currentStep === index ? "primary" : "default"}
                                    size="large" 
                                    icon={step.icon}
                                    onClick={() => setCurrentStep(index)}
                                    style={{ 
                                        background: currentStep === index ? 'rgba(0, 217, 255, 0.8)' : 'rgba(0, 217, 255, 0.1)', 
                                        borderColor: 'rgba(0, 217, 255, 0.4)',
                                        color: currentStep === index ? '#000000' : '#ffffff',
                                        height: '60px',
                                        fontSize: '14px',
                                        fontWeight: 'normal',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'flex-start',
                                        textAlign: 'left',
                                        transition: 'all 0.3s ease',
                                        boxShadow: currentStep === index ? '0 0 10px rgba(0, 217, 255, 0.3)' : 'none',
                                        padding: '8px 16px'
                                    }}
                                >
                                    <div style={{ 
                                        display: 'flex', 
                                        flexDirection: 'column', 
                                        alignItems: 'flex-start',
                                        marginLeft: '8px',
                                        lineHeight: '1.4'
                                    }}>
                                        <div style={{ 
                                            fontWeight: 'bold',
                                            marginBottom: '2px',
                                            fontSize: '14px'
                                        }}>
                                            {step.title}
                                        </div>
                                        <div style={{ 
                                            fontSize: '11px', 
                                            opacity: 0.8,
                                            color: currentStep === index ? 'rgba(0, 0, 0, 0.8)' : 'rgba(255, 255, 255, 0.7)',
                                            lineHeight: '1.2'
                                        }}>
                                            {step.description}
                                        </div>
                                    </div>
                                </Button>
                            ))}
                        </div>
                    </div>

                    {/* å½“å‰æ­¥éª¤çš„è¯¦ç»†é…ç½® */}
                    <div style={{ 
                        background: 'rgba(0, 217, 255, 0.05)', 
                        borderRadius: '8px', 
                        padding: '12px',
                        border: '1px solid rgba(0, 217, 255, 0.2)',
                        marginBottom: '15px'
                    }}>
                        <h4 style={{ 
                            color: 'rgba(0, 217, 255, 0.9)', 
                            margin: '0 0 12px 0', 
                            fontSize: '14px',
                            textAlign: 'center',
                            fontWeight: 'normal'
                        }}>
                            {analysisSteps[currentStep]?.title} é…ç½®
                        </h4>
                        
                        {currentStep === 0 && (
                            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    âš–ï¸ è¾¹ç•Œæ¡ä»¶è®¾ç½®
                                </Button>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    ğŸ—ï¸ è½½è·å®šä¹‰
                                </Button>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    ğŸ§± ææ–™å±æ€§åˆ†é…
                                </Button>
                            </div>
                        )}
                        
                        {currentStep === 1 && (
                            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    âš¡ Kratosæ±‚è§£å™¨
                                </Button>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    ğŸ”§ æ”¶æ•›å‚æ•°
                                </Button>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    ğŸŒŠ Moving-Meshè®¾ç½®
                                </Button>
                            </div>
                        )}
                        
                        {currentStep === 2 && (
                            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    ğŸš€ æäº¤è®¡ç®—ä»»åŠ¡
                                </Button>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    ğŸ“Š å®æ—¶ç›‘æ§
                                </Button>
                                <Button size="small" style={{ 
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '32px',
                                    fontSize: '12px'
                                }}>
                                    â¹ï¸ åœæ­¢è®¡ç®—
                                </Button>
                            </div>
                        )}
                    </div>

                    {/* åˆ†æè¿›åº¦ */}
                    {isAnalyzing && (
                        <div style={{ 
                            background: 'rgba(0, 217, 255, 0.05)', 
                            borderRadius: '8px', 
                            padding: '12px',
                            border: '1px solid rgba(0, 217, 255, 0.2)',
                            marginBottom: '15px'
                        }}>
                            <h4 style={{ 
                                color: 'rgba(0, 217, 255, 0.9)', 
                                margin: '0 0 8px 0', 
                                fontSize: '14px',
                                textAlign: 'center',
                                fontWeight: 'normal'
                            }}>
                                åˆ†æè®¡ç®—è¿›åº¦
                            </h4>
                            <Progress 
                                percent={75} 
                                status="active" 
                                strokeColor={{
                                    '0%': '#00d9ff',
                                    '100%': '#52c41a',
                                }}
                                size="small"
                            />
                            <Text style={{ 
                                color: 'rgba(255, 255, 255, 0.7)', 
                                fontSize: '11px',
                                display: 'block',
                                textAlign: 'center',
                                marginTop: '6px'
                            }}>
                                æ­£åœ¨è¿›è¡Œæœ‰é™å…ƒè®¡ç®—...
                            </Text>
                        </div>
                    )}

                    {/* åº•éƒ¨æ“ä½œæŒ‰é’® */}
                    <div style={{ 
                        marginTop: '15px',
                        display: 'flex',
                        flexDirection: 'column',
                        gap: '8px',
                        borderTop: '1px solid rgba(0, 217, 255, 0.2)',
                        paddingTop: '12px'
                    }}>
                        <Button 
                            type="primary" 
                            icon={<PlayCircleOutlined />}
                            loading={isAnalyzing}
                            onClick={handleStartAnalysis}
                            style={{
                                background: 'rgba(0, 217, 255, 0.6)',
                                borderColor: 'rgba(0, 217, 255, 0.4)',
                                color: '#000000',
                                height: '40px',
                                fontSize: '14px',
                                fontWeight: 'normal',
                                boxShadow: '0 2px 8px rgba(0, 217, 255, 0.2)'
                            }}
                        >
                            {isAnalyzing ? 'åˆ†æä¸­...' : 'ğŸš€ å¼€å§‹åˆ†æè®¡ç®—'}
                        </Button>
                        <div style={{ display: 'flex', gap: '6px' }}>
                            <Button 
                                icon={<SaveOutlined />} 
                                onClick={handleSave}
                                style={{ 
                                    flex: 1,
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '34px',
                                    fontSize: '12px'
                                }}
                            >
                                ğŸ’¾ ä¿å­˜
                            </Button>
                            <Button 
                                icon={<UploadOutlined />} 
                                onClick={handleExport}
                                style={{ 
                                    flex: 1,
                                    background: 'rgba(0, 217, 255, 0.1)', 
                                    borderColor: 'rgba(0, 217, 255, 0.3)', 
                                    color: 'rgba(255, 255, 255, 0.9)',
                                    height: '34px',
                                    fontSize: '12px'
                                }}
                            >
                                ğŸ“¤ å¯¼å‡º
                            </Button>
                        </div>
                    </div>
                    
                    {/* å…³é—­æŒ‰é’® */}
                    <div style={{ 
                        position: 'absolute', 
                        top: '10px', 
                        right: '10px' 
                    }}>
                        <Button
                            type="text"
                            icon={<CloseOutlined />}
                            onClick={() => setLeftPanelVisible(false)}
                            style={{ color: '#ffffff', fontSize: '16px' }}
                        />
                    </div>
                </div>
            )}

            {/* æ‚¬æµ®å³ä¾§ç›‘æ§é¢æ¿ */}
            {rightPanelVisible && (
                <div style={{
                    position: 'absolute',
                    top: '110px',
                    right: '20px',
                    bottom: '80px',
                    width: '280px',
                    zIndex: 8000,
                    background: 'rgba(26, 26, 46, 0.75)',
                    border: '1px solid rgba(0, 217, 255, 0.4)',
                    borderRadius: '12px',
                    padding: '20px',
                    color: '#ffffff',
                    backdropFilter: 'blur(10px)',
                    boxShadow: '0 0 20px rgba(0, 217, 255, 0.2)',
                    overflowY: 'auto',
                    maxHeight: 'calc(100vh - 150px)'
                }}>
                    {/* ç›‘æ§é¢æ¿æ ‡é¢˜ */}
                    <div style={{ 
                        borderBottom: '1px solid rgba(0, 217, 255, 0.3)', 
                        paddingBottom: '12px', 
                        marginBottom: '18px',
                        textAlign: 'center'
                    }}>
                        <h2 style={{ 
                            color: '#00d9ff', 
                            margin: 0, 
                            fontSize: '18px', 
                            fontWeight: 'normal',
                            lineHeight: '1.2'
                        }}>
                            è®¡ç®—ç›‘æ§
                        </h2>
                        <p style={{ 
                            color: 'rgba(255, 255, 255, 0.7)', 
                            fontSize: '12px', 
                            margin: '6px 0 0 0',
                            lineHeight: '1.3'
                        }}>
                            å®æ—¶ç›‘æ§åˆ†æè¿›åº¦
                        </p>
                    </div>

                    {/* ç³»ç»ŸçŠ¶æ€ */}
                    <div style={{ 
                        background: 'rgba(0, 217, 255, 0.05)', 
                        borderRadius: '8px', 
                        padding: '12px',
                        border: '1px solid rgba(0, 217, 255, 0.2)',
                        marginBottom: '15px'
                    }}>
                        <h4 style={{ 
                            color: 'rgba(0, 217, 255, 0.9)', 
                            margin: '0 0 12px 0', 
                            fontSize: '14px',
                            textAlign: 'center',
                            fontWeight: 'normal'
                        }}>
                            ç³»ç»Ÿèµ„æºçŠ¶æ€
                        </h4>
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px', fontSize: '12px' }}>
                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>CPUä½¿ç”¨ç‡:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>45%</span>
                            </div>
                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>å†…å­˜ä½¿ç”¨:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>2.3 GB</span>
                            </div>
                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>å·²ç”¨æ—¶é—´:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>00:05:23</span>
                            </div>
                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>é¢„è®¡å‰©ä½™:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>00:12:45</span>
                            </div>
                        </div>
                    </div>

                    {/* è®¡ç®—ç»Ÿè®¡ */}
                    <div style={{ 
                        background: 'rgba(0, 217, 255, 0.05)', 
                        borderRadius: '8px', 
                        padding: '12px',
                        border: '1px solid rgba(0, 217, 255, 0.2)',
                        marginBottom: '15px'
                    }}>
                        <h4 style={{ 
                            color: 'rgba(0, 217, 255, 0.9)', 
                            margin: '0 0 12px 0', 
                            fontSize: '14px',
                            textAlign: 'center',
                            fontWeight: 'normal'
                        }}>
                            è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
                        </h4>
                        
                        {/* æ¨¡å‹ç»Ÿè®¡ */}
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px', marginBottom: '12px' }}>
                            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '11px' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>èŠ‚ç‚¹æ•°:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>23,456</span>
                            </div>
                            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '11px' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>å•å…ƒæ•°:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>45,123</span>
                            </div>
                            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '11px' }}>
                                <span style={{ color: 'rgba(255, 255, 255, 0.8)' }}>è‡ªç”±åº¦:</span>
                                <span style={{ color: '#00d9ff', fontFamily: 'monospace' }}>70,368</span>
                            </div>
                        </div>

                        {/* æ”¶æ•›çŠ¶æ€ */}
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>
                            <div style={{ 
                                background: 'rgba(0, 217, 255, 0.1)', 
                                padding: '6px 10px', 
                                borderRadius: '4px',
                                fontSize: '11px',
                                color: '#ffffff',
                                display: 'flex',
                                justifyContent: 'space-between'
                            }}>
                                <span>ğŸŸ¢ ä½ç§»æ”¶æ•›:</span>
                                <span>1.2e-6</span>
                            </div>
                            <div style={{ 
                                background: 'rgba(0, 217, 255, 0.1)', 
                                padding: '6px 10px', 
                                borderRadius: '4px',
                                fontSize: '11px',
                                color: '#ffffff',
                                display: 'flex',
                                justifyContent: 'space-between'
                            }}>
                                <span>ğŸŸ¡ åº”åŠ›æ”¶æ•›:</span>
                                <span>3.4e-5</span>
                            </div>
                            <div style={{ 
                                background: 'rgba(0, 217, 255, 0.1)', 
                                padding: '6px 10px', 
                                borderRadius: '4px',
                                fontSize: '11px',
                                color: '#ffffff',
                                display: 'flex',
                                justifyContent: 'space-between'
                            }}>
                                <span>ğŸ”µ å½“å‰æ­¥æ•°:</span>
                                <span>156/500</span>
                            </div>
                        </div>

                        {/* æ€»ä½“çŠ¶æ€ */}
                        <div style={{ 
                            marginTop: '12px',
                            padding: '8px',
                            background: 'rgba(0, 217, 255, 0.1)',
                            borderRadius: '4px',
                            textAlign: 'center'
                        }}>
                            <Badge status="processing" />
                            <Text style={{ 
                                color: '#52c41a',
                                fontSize: '12px',
                                fontWeight: 'bold',
                                marginLeft: '8px'
                            }}>
                                è®¡ç®—è¿›è¡Œä¸­ ğŸ˜Š
                            </Text>
                        </div>
                    </div>

                    {/* å…³é—­æŒ‰é’® */}
                    <div style={{ 
                        position: 'absolute', 
                        top: '10px', 
                        right: '10px' 
                    }}>
                        <Button
                            type="text"
                            icon={<CloseOutlined />}
                            onClick={() => setRightPanelVisible(false)}
                            style={{ color: '#ffffff', fontSize: '16px' }}
                        />
                    </div>
                </div>
            )}
        </div>
    );
};

export default AnalysisView;