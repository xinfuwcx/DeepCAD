# DeepCAD-SCOUR Example6 用户操作指南

## 欢迎使用 DeepCAD-SCOUR 专业桥墩冲刷分析系统

本指南将帮助您快速掌握example6系统的使用方法，从基础操作到高级分析功能。

## 快速入门

### 系统启动

1. **标准启动方式**
   ```bash
   cd example6
   python main.py
   ```

2. **增强版界面启动**
   ```bash
   python enhanced_beautiful_main.py
   ```

3. **系统要求检查**
   - Python 3.8+ 
   - PyQt6
   - PyVista (3D可视化)
   - NumPy, Matplotlib, SciPy

### 首次使用设置

启动后系统会自动检查依赖包，如果缺少组件会显示安装提示：

```
❌ 界面模块导入失败: No module named 'pyvista'
请检查PyVista是否正确安装
安装命令: pip install pyvista pyvistaqt
```

## 界面布局详解

### 主界面结构

```
┌─────────────────┬──────────────────────────────┐
│                 │         3D主视图              │
│   参数输入面板   │     (桥墩几何+冲刷结果)       │
│                 │                              │
├─────────────────┼──────────────────────────────┤
│   控制按钮区域   │          标签页视图           │
│                 ├──────────────┬───────────────┤
│   计算结果显示   │   剖面分析    │   流场详析    │
│                 │              │  (PyVista 3D) │
└─────────────────┴──────────────┴───────────────┘
```

### 参数输入面板详解

#### 1. 桥墩几何参数
- **桥墩宽度** (m): 水流方向的桥墩宽度
- **桥墩长度** (m): 垂直水流方向的长度  
- **桥墩形状**: 圆形、方形、矩形等选项
- **攻击角度** (°): 水流与桥墩轴线的夹角

**输入提示**: 
- 宽度通常指迎流面宽度
- 圆形桥墩长度=宽度
- 攻击角0°表示垂直撞击

#### 2. 水力条件参数
- **流速** (m/s): 桥墩处的平均流速
- **水深** (m): 桥墩处的水深
- **洪水频率**: 设计洪水重现期

**重要提示**:
- 流速建议使用垂线平均流速
- 水深指桥墩处未冲刷时的水深
- 洪水频率影响安全系数选择

#### 3. 河床材料参数
- **河床材料**: 砂、砾石、粘土、基岩
- **中值粒径** (mm): d50颗粒直径
- **泥沙密度** (kg/m³): 通常2650 kg/m³
- **粘聚力** (kPa): 粘性土特有参数

**参数指导**:
- 砂类: d50 = 0.1-2.0 mm
- 砾石: d50 = 2-64 mm  
- 粘土: 需要提供粘聚力值

## 基础操作流程

### 步骤1: 输入基本参数

```
实例: 某桥梁桥墩冲刷分析
├─ 桥墩宽度: 2.5 m
├─ 桥墩长度: 2.5 m (圆形桥墩)
├─ 桥墩形状: 圆形
├─ 流速: 2.8 m/s
├─ 水深: 8.5 m
├─ 河床材料: 砂
├─ 中值粒径: 0.8 mm
└─ 攻击角: 0°
```

### 步骤2: 选择计算方法

系统支持三种主要计算方法：

1. **HEC-18** (推荐)
   - 美国标准方法
   - 适用于工程设计
   - 经验修正系数完善

2. **Richardson-Davis**
   - 基于Shields理论
   - 适合细砂河床
   - 物理机理清晰

3. **Melville-Coleman**
   - 因素分解法
   - 适合复杂条件
   - 参数影响分析

### 步骤3: 执行计算

点击 **"开始计算"** 按钮，系统将：

1. 验证输入参数合理性
2. 选择最适合的计算方法
3. 执行冲刷深度计算
4. 显示详细结果和警告信息

### 步骤4: 结果解读

#### 主要结果指标
```
计算结果摘要:
├─ 冲刷深度: 2.85 m
├─ 相对冲刷深度: 1.14 (ds/D)  
├─ 计算方法: HEC-18
├─ Froude数: 0.31
├─ Reynolds数: 7,000,000
├─ 可信度: 0.87
└─ 风险等级: 中等风险 🟡
```

#### 结果指标解释

- **冲刷深度**: 预测的最大冲刷深度
- **相对冲刷深度**: ds/D比值，评估冲刷严重程度
- **Froude数**: 表征流态，影响冲刷机理
- **Reynolds数**: 表征湍流程度
- **可信度**: 算法对结果的置信程度
- **风险等级**: 基于相对冲刷深度的风险评估

## 3D可视化功能

### 主3D视图操作

#### 视图控制
- **鼠标左键拖拽**: 旋转视图
- **鼠标右键拖拽**: 平移视图  
- **滚轮**: 缩放视图
- **双击**: 重置视图

#### 显示选项
- **显示桥墩**: 3D桥墩几何体
- **显示冲刷坑**: 冲刷区域可视化
- **显示流线**: 水流路径指示
- **显示网格**: 计算网格显示

### 剖面分析功能

#### XY平面视图
- 俯视角度观察冲刷形态
- 显示冲刷坑等深线
- 流速矢量分布

#### XZ剖面视图  
- 侧视角度观察冲刷深度
- 显示河床变形
- 流速垂向分布

### 流场详析 (PyVista 3D)

这是系统最强大的可视化功能：

#### 3D流场控制面板

**显示选项控制:**
- ☑️ **速度矢量场**: 3D箭头显示流速方向和大小
- ☐ **压力场**: 等压面显示压力分布  
- ☐ **涡量场**: 涡流强度可视化
- ☑️ **流线**: 流体质点运动轨迹
- ☑️ **桥墩几何体**: 3D桥墩模型

**交互控制:**
- **矢量密度滑块**: 调节箭头显示密度
- **重置视图**: 恢复标准等轴测视图
- **保存图像**: 导出高分辨率3D图像

#### 流场参数显示

实时显示计算得到的流场参数：
```
流场参数:
├─ 雷诺数: 7,000,000
├─ 弗劳德数: 0.310
├─ 最大流速: 3.45 m/s
└─ 湍流强度: 0.089
```

#### 3D流场操作技巧

1. **最佳观察角度**
   - 等轴测视图: 全面观察流场结构
   - 侧视图: 观察垂向流动特征
   - 俯视图: 观察平面流动形态

2. **场显示组合建议**
   - 初学者: 速度矢量 + 流线 + 桥墩
   - 专业用户: 压力场 + 涡量场 + 流线
   - 演示汇报: 速度矢量 + 桥墩 + 流线

3. **交互提示**
   - 按住Ctrl+鼠标: 精确控制视角
   - 双击特定区域: 聚焦到该区域
   - 使用矢量密度滑块避免显示过密

## 高级功能应用

### 参数敏感性分析

#### 批量参数分析
1. 固定其他参数
2. 改变单一参数 (如流速)
3. 观察冲刷深度变化趋势

**示例操作**:
```
流速敏感性分析:
├─ 基准流速: 2.0 m/s → 冲刷深度: 1.85 m
├─ 增加10%: 2.2 m/s → 冲刷深度: 2.12 m  
├─ 增加20%: 2.4 m/s → 冲刷深度: 2.41 m
└─ 敏感性系数: 1.25 (冲刷深度变化率/流速变化率)
```

### 多方法对比分析

#### 对比不同算法结果
1. 使用相同参数
2. 分别选择HEC-18、Richardson-Davis、Melville-Coleman
3. 对比结果差异和适用性

**结果对比示例**:
```
方法对比 (相同工况):
├─ HEC-18:           2.85 m (可信度: 0.87)
├─ Richardson-Davis: 2.63 m (可信度: 0.75)
├─ Melville-Coleman: 3.12 m (可信度: 0.82)
├─ 平均值:           2.87 m
└─ 标准差:           0.25 m (变异系数: 8.7%)
```

### 风险等级评估

系统自动进行风险等级评估：

#### 风险等级标准
- 🟢 **低风险**: ds/D < 1.5, 结构稳定性良好
- 🟡 **中等风险**: 1.5 ≤ ds/D < 2.5, 需要关注
- 🟠 **高风险**: 2.5 ≤ ds/D < 3.5, 存在安全隐患
- 🔴 **极高风险**: ds/D ≥ 3.5, 严重威胁结构安全

#### 工程建议
系统针对不同风险等级提供建议：

**中等风险建议**:
- 定期检查周期: 15天
- 预警水位: 10.2m  
- 建议防护措施: 抛石护底
- 监测方法: 测深仪定期检测

## 结果导出和报告

### 数据导出选项

#### 1. 图像导出
- **3D可视化截图**: PNG/JPG格式，高分辨率
- **剖面分析图**: 矢量图格式 (SVG/PDF)
- **参数曲线图**: 敏感性分析结果

#### 2. 数据导出
- **CSV格式**: 计算参数和结果数据
- **Excel格式**: 包含图表的综合报告
- **JSON格式**: 完整的计算配置和结果

### 报告生成

#### 标准工程报告包含:
1. **项目信息**: 桥梁名称、设计参数
2. **计算方法**: 采用的理论方法和依据
3. **输入参数**: 详细的工况参数表
4. **计算结果**: 冲刷深度及相关指标
5. **风险评估**: 安全等级和工程建议
6. **可视化图件**: 3D流场图和剖面图

## 常见问题解决

### Q1: 程序启动失败
**问题**: 运行时出现模块导入错误
**解决**: 
```bash
# 检查Python版本
python --version  # 需要3.8+

# 安装依赖包
pip install -r requirements.txt

# 特别安装PyVista
pip install pyvista pyvistaqt
```

### Q2: 3D可视化无法显示
**问题**: 流场详析标签页显示"PyVista 3D可视化不可用"
**解决**:
1. 确认显卡驱动支持OpenGL
2. 安装完整PyVista包: `pip install pyvista[all]`
3. 检查系统环境: Linux需要安装mesa-utils

### Q3: 计算结果异常
**问题**: 冲刷深度过大或过小
**诊断步骤**:
1. 检查输入参数单位 (m, m/s, mm)
2. 验证Froude数和Reynolds数合理性
3. 查看系统警告信息
4. 对比多种方法结果

### Q4: 界面响应缓慢
**优化建议**:
1. 降低3D网格分辨率
2. 减少矢量密度显示
3. 关闭不必要的可视化选项
4. 检查系统内存使用情况

### Q5: 参数输入范围
**有效范围指导**:
```
参数有效范围:
├─ 桥墩宽度: 0.5-15.0 m
├─ 流速: 0.5-8.0 m/s
├─ 水深: 1.0-50.0 m  
├─ d50粒径: 0.05-100 mm
├─ 攻击角: 0-90°
└─ Froude数: 0.1-1.2 (建议<0.8)
```

## 最佳实践建议

### 1. 参数输入建议
- **现场调研**: 尽可能获取实测数据
- **多工况分析**: 考虑不同洪水频率
- **保守取值**: 设计时采用偏安全的参数

### 2. 结果验证建议
- **多方法对比**: 使用2-3种方法交叉验证
- **文献对比**: 查阅相似工程案例
- **专家评审**: 重要工程请专业人士审核

### 3. 可视化应用建议
- **汇报演示**: 使用3D流场展示流动现象
- **设计沟通**: 剖面图直观显示冲刷深度
- **公众解释**: 简化的图形便于理解

### 4. 工程应用建议
- **安全系数**: 初步设计×1.5，详细设计×1.3
- **监测方案**: 高风险桥墩建立长期监测
- **防护措施**: 根据风险等级选择防护方案

## 技术支持

### 联系方式
- **技术文档**: 查阅系统内置技术文档
- **问题报告**: GitHub Issues 
- **使用交流**: 用户论坛

### 更新说明
- **版本检查**: 定期检查软件更新
- **功能改进**: 关注新版本功能增强
- **bug修复**: 及时安装修复补丁

---

**祝您使用愉快！**

*DeepCAD-SCOUR Example6 用户指南 v3.1*  
*专业桥墩冲刷分析系统*